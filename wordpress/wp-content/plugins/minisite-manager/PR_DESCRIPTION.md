# Migrate VersionManagement to Doctrine ORM

This PR migrates the VersionManagement feature from the custom database versioning system to Doctrine ORM, following the patterns established by ConfigManagement and ReviewManagement. The migration converts the Version entity to a Doctrine ORM entity with all 27 fields properly mapped, replaces the `$wpdb`-based repository with a Doctrine EntityRepository, and creates a proper Doctrine migration (`Version20251105000000.php`) for the `wp_minisite_versions` table. A custom `PointType` was implemented to handle MySQL `POINT` geometry columns, preserving the exact longitude-first, latitude-second ordering from the original implementation to avoid the critical bugs documented in `docs/issues/location-point-lessons-learned.md`.

The new `VersionRepository` extends `EntityRepository` and converts all methods from `$wpdb` to Doctrine Query Builder while maintaining backward compatibility through `VersionRepositoryInterface`. Integration tests were added (`VersionRepositoryIntegrationTest` with 13 passing tests), and all existing unit tests were updated to use Doctrine mocks. A critical bug fix was applied to resolve MySQL savepoint errors by setting `isTransactional() => false` for all DDL migrations, eliminating the need for connection cleanup workarounds in integration tests.

**Impact:** 95 files changed (+7,310 / -3,683 lines). All 1,181 unit and integration tests are passing. Test coverage for VersionManagement improved from 0% to 53% (workflow integration tests are skipped pending MinisiteRepository fixes). Legacy SQL-based code in `_1_0_0_CreateBase.php` has been commented out for reference but remains in the codebase.

