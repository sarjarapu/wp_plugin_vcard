<?xml version="1.0"?>
<ruleset name="Minisite Manager">
  <description>PSR-12 coding standards for Minisite Manager</description>
  
  <file>src</file>
  <file>minisite-manager.php</file>
  
  <!-- PSR-12 base standards -->
  <rule ref="PSR12"/>
  
  <!-- Security rules (keep these for WordPress integration) -->
  <rule ref="WordPress.Security.EscapeOutput"/>
  <rule ref="WordPress.Security.ValidatedSanitizedInput"/>
  <rule ref="WordPress.Security.NonceVerification"/>
  <rule ref="WordPress.DB.DirectDatabaseQuery"/>
  <rule ref="WordPress.DB.PreparedSQL"/>
  
  <!-- Exclude patterns -->
  <exclude-pattern>*/vendor/*</exclude-pattern>
  <exclude-pattern>*/tests/*</exclude-pattern>
  <exclude-pattern>*/build/*</exclude-pattern>
  <exclude-pattern>*/scripts/*</exclude-pattern>
  <exclude-pattern>*/templates/*</exclude-pattern>
  
  <!-- Domain layer should not be subject to WordPress-specific rules -->
  <rule ref="WordPress.Security.EscapeOutput">
    <exclude-pattern>*/Domain/*</exclude-pattern>
  </rule>
  
  <!-- Arguments -->
  <arg name="colors"/>
  <arg name="parallel" value="80"/>
  <arg name="report-width" value="120"/>
  <arg name="extensions" value="php"/>
</ruleset>
